{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get things done</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Font Awesome 5 Brands:wght@400&display=swap" />
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <!-- for pencil and trash can icons -->
    <script src="https://kit.fontawesome.com/cb792c0850.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="signup-login">
        <div>
            <!-- {{user}} is a Django template variable automatically available when django.contrib.auth is enabled(in settings.py) -->
            <div><h1>Hello {{user}}</h1></div>
            <div class="signup-box">
                    <div class="heading">
                        Get things done
                    </div>
                    <div class="anca"><a href="{% url 'signout' %}" class="sign"><i class="fa-solid fa-right-from-bracket"></i></a></div>
                    
                    <form method="post">
                        <!-- Djangoâ€™s security tag, injects a hidden token field to prevent CSRF attacks -->
                        {% csrf_token %}
                        <input type="text" name="title" required class="todo-input inp" placeholder="Add today's task">
                        <!-- When pressed(POST) it creates a new TODOOO object with user=request.user -->
                        <input type="submit" class="submit-button" value="Add task">
                    </form>
                    <!-- For every TODOO instance in res(queryset passed from view), the HTML gets rendered once -->
                    {% for todo in res%}
                        <div class="Todo">
                            <!-- <h5>{{todo.srno}}</h5> -->
                            <p>{{todo.title}}</p>
                            <div>
                                <!-- <a href="/edit_todo/{{todo.srno}}"><i class="fa-solid fa-pen-to-square"></i></a> -->
                                <!-- <a href="/delete_todo/{{todo.srno}}"><i class="fa-solid fa-trash"></i></a> -->
                                <a href="{% url 'edit_todo' todo.srno %}"><i class="fa-solid fa-pen-to-square"></i></a>
                                <a href="{% url 'delete_todo' todo.srno %}"><i class="fa-solid fa-trash"></i></a> 
                            </div>
                        </div>
                    {% endfor %}
            </div>
        </div>
    </div>
</body>
</html>